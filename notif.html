<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #ffffff;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            color: #050505;
        }

        /* TAB NAVIGASI (Tetap Dipertahankan) */
        .fb-nav-tabs {
            display: flex;
            justify-content: space-around;
            align-items: center;
            border-bottom: 1px solid #ddd;
            padding: 10px 0;
            background: #fff;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .nav-icon { color: #65676b; }
        .nav-icon.active { color: #0866ff; border-bottom: 3px solid #0866ff; padding-bottom: 5px; margin-bottom: -13px; }

        /* AREA PENCARIAN (Pengganti FB Header) */
        .search-area {
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid #ebedf0;
        }
        .search-input-wrapper {
            flex: 1;
            position: relative;
            background: #f0f2f5;
            border-radius: 20px;
            display: flex;
            align-items: center;
            padding: 0 12px;
        }
        .search-input-wrapper input {
            width: 100%;
            border: none;
            background: transparent;
            padding: 10px 5px;
            font-size: 16px;
            outline: none;
        }

        /* AREA HASIL PENCARIAN (Gaya Notif Item) */
        .notif-item {
            display: flex;
            padding: 12px 16px;
            align-items: center;
            text-decoration: none;
            color: inherit;
            border-bottom: 1px solid #f9f9f9;
        }
        .notif-item:hover { background: #f2f2f2; }
        .avatar-wrapper { position: relative; margin-right: 12px; flex-shrink: 0; }
        .notif-avatar { width: 60px; height: 60px; border-radius: 50%; object-fit: cover; }
        .badge-icon {
            position: absolute; bottom: 0; right: 0; width: 20px; height: 20px;
            background: #0866ff; border: 2px solid #fff; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; color: white; font-size: 10px;
        }
        .notif-content { flex: 1; }
        .notif-title { font-size: 15px; font-weight: 600; line-height: 1.3; margin-bottom: 2px; }
        .notif-meta { font-size: 13px; color: #0866ff; font-weight: 600; }

        #loading-text { text-align: center; padding: 20px; color: #65676b; display: none; }
    </style>
</head>
<body>

    <div class="fb-nav-tabs">
        <div class="nav-icon"><svg viewBox="0 0 24 24" fill="currentColor" width="28" height="28"><path d="M12.5 2.1a1 1 0 00-1 0L3 7.6a1 1 0 00-.5.9v10.9a1 1 0 001 1h5a1 1 0 001-1v-5h4v5a1 1 0 001 1h5a1 1 0 001-1V8.5a1 1 0 00-.5-.9l-8.5-5.5z"></path></svg></div>
        <div class="nav-icon"><svg viewBox="0 0 24 24" fill="currentColor" width="28" height="28"><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zm1-13h-2v5H6v2h7V7z"></path></svg></div>
        <div class="nav-icon"><svg viewBox="0 0 24 24" fill="currentColor" width="28" height="28"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"></path></svg></div>
        <div class="nav-icon active"><svg viewBox="0 0 24 24" fill="currentColor" width="28" height="28"><path d="M12 22a2.98 2.98 0 002.818-2H9.182A2.98 2.98 0 0012 22zm7-7.414V10c0-3.075-2.071-5.615-4.904-6.315C13.844 2.87 13.018 2 12 2s-1.844.87-2.096 1.685C7.071 4.385 5 6.925 5 10v4.586l-1.707 1.707A1 1 0 004 18h16a1 1 0 00.707-1.707L19 14.586z"></path></svg></div>
        <div class="nav-icon"><svg viewBox="0 0 24 24" fill="currentColor" width="28" height="28"><path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"></path></svg></div>
    </div>

    <div class="search-area">
        <div class="search-input-wrapper">
            <span>üîç</span>
            <input type="text" id="search-input" placeholder="Cari berita atau info..." onkeyup="liveSearch()">
        </div>
    </div>

    <div id="loading-text">Mencari...</div>
    <div id="search-results-container">
        </div>

    <script>
        // Suara Notifikasi Ting!
        const fbAudio = new Audio('https://assets.mixkit.co/active_storage/sfx/2358/2358-preview.mp3');
        let soundPlayed = false;
        let lastQuery = '';

        function liveSearch() {
            let q = document.getElementById('search-input').value.trim();
            let container = document.getElementById('search-results-container');
            let loading = document.getElementById('loading-text');

            if (q.length < 3) {
                container.innerHTML = '';
                loading.style.display = 'none';
                soundPlayed = false;
                lastQuery = '';
                return;
            }

            if (q === lastQuery) return;
            lastQuery = q;
            loading.style.display = 'block';

            // Ambil data dari feed blog Anda
            fetch('https://fakta.blue/feeds/posts/summary?q=' + encodeURIComponent(q) + '&alt=json&max-results=6')
            .then(response => response.json())
            .then(data => {
                loading.style.display = 'none';
                let html = '';
                if (data.feed.entry && data.feed.entry.length > 0) {
                    
                    // Putar suara jika ada hasil baru
                    if (!soundPlayed) {
                        fbAudio.play().catch(e => {});
                        soundPlayed = true;
                    }

                    data.feed.entry.forEach(entry => {
                        let title = entry.title.$t;
                        let link = entry.link.find(l => l.rel === 'alternate').href;
                        let thumb = entry.media$thumbnail ? entry.media$thumbnail.url.replace('s72-c', 's200-c') : 'https://via.placeholder.com/200';
                        
                        // Meniru Struktur Notifikasi FB
                        html += `
                        <a href="${link}" class="notif-item">
                            <div class="avatar-wrapper">
                                <img src="${thumb}" class="notif-avatar">
                                <div class="badge-icon">üîç</div>
                            </div>
                            <div class="notif-content">
                                <p class="notif-title"><b>${title}</b></p>
                                <span class="notif-meta">Hasil ditemukan</span>
                            </div>
                        </a>`;
                    });
                    container.innerHTML = html;
                } else {
                    container.innerHTML = '<p style="padding:20px; color:#65676b; text-align:center;">Tidak ada hasil yang cocok.</p>';
                }
            })
            .catch(err => {
                loading.style.display = 'none';
                console.error("Gagal memuat feed");
            });
        }
    </script>
</body>
</html>
